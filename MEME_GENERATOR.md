# ¬´–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ–º–æ–≤¬ª

¬´–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–µ–º–æ–≤¬ª ‚Äî —Ç–≤–æ–π –∫–∞—Ä–º–∞–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É —Å–º–µ—Ö–∞! –í—ã–±–µ—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É, –¥–æ–±–∞–≤—å —Ç–µ–∫—Å—Ç –∏ –≤—É–∞–ª—è! ‚Äî —É —Ç–µ–±—è –º–µ–º, —Å–ø–æ—Å–æ–±–Ω—ã–π —Ä–∞–∑–±—É–¥–∏—Ç—å –¥–∞–∂–µ —Å–ø—è—â–µ–≥–æ –∫–æ—Ç–∞! üòõ 

üí° –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:
- –£–Ω–∏–∂–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º —á–∞—Ç–µ,
- –í–µ—á–µ—Ä–Ω–∏—Ö –ø–æ—Å–∏–¥–µ–ª–æ–∫ —Å –Ω–æ—É—Ç–æ–º –∏ –ø–µ—á–µ–Ω—å–∫–∞–º–∏,
- –†–∞–±–æ—Ç—ã (–µ—Å–ª–∏ –≤—ã SMM-—â–∏–∫, –∫–æ–Ω–µ—á–Ω–æüòè).

–°–æ–∑–¥–∞–≤–∞–π, —Å–º–µ–π—Å—è, –¥–µ–ª–∏—Å—å.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ç–µ–∫—Å—Ç. –î–ª—è —ç—Ç–æ–≥–æ –æ–Ω –±–µ—Ä—ë—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Ä–∏—Å—É–µ—Ç –Ω—É–∂–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–Ω–∏–∑—É —ç—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ).

![meme.jpg](misc/meme_example.jpg)

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –±–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/generate`, –∫–æ—Ç–æ—Ä–∞—è –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ–º—ã (–≤ –∏—Ç–æ–≥–µ –±–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º). –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Å–ø—Ä–æ—Å–∏—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–∞–∫–æ–π —Ç–µ–∫—Å—Ç –≤–ø–∏—Å–∞—Ç—å –≤ –º–µ–º.

***–£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏***:
1. *Easy*. –ë–æ—Ç —Ä–∞–Ω–¥–æ–º–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–≤–æ–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
2. *Medium*. –ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
3. *Advanced*. –ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
4. *Advanced+*. –ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏, –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É, —à—Ä–∏—Ñ—Ç –∏ —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –¥–∏—Å–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `memes` –ø—Ä—è–º–æ –≤ –ø—Ä–æ–µ–∫—Ç PyCharm).

–ï—Å–ª–∏ –±–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö –≤—Å–µ –ª–∏–±–æ –≤ –¥—Ä—É–≥—É—é –æ–±—â—É—é –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `downloads`), –ª–∏–±–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ø–∞–ø–∫—É (—Ç–æ–≥–¥–∞ –ø–∞–ø–∫—É –º–æ–∂–Ω–æ –∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–∞–∫ `user-$id`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `user-619700989`).

### –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

```python
from io import BytesIO

from PIL import Image, ImageFont, ImageDraw

label = "–ö–æ–≥–¥–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –°–∏–≥–º—É"  # –°–∞–º —Ç–µ–∫—Å—Ç
image_path = "../memes/cow.jpg"  # –ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é 
font_family = "DejaVuSans.ttf"  # –®—Ä–∏—Ñ—Ç
font_size = 55  # –†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞
color = (0, 0, 0)  # –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
bottom_indent = 7  # –û—Ç—Å—Ç—É–ø —Ç–µ–∫—Å—Ç–∞ —Å–Ω–∏–∑—É –≤ —É—Å–ª–æ–≤–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö
out_format: str = "WEBP"  # —Ñ–æ—Ä–º–∞—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

# –ò—Ç–æ–≥–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 
buffer = BytesIO()

# –û—Ç–∫—Ä—ã—Ç–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ä–∏—Å–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –ø–æ–∫–∞–∑ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –µ–≥–æ –≤ –±—É—Ñ–µ—Ä
with Image.open(image_path) as im:
    unicode_font = ImageFont.truetype(font_family, font_size)
    xy = (im.size[0] // 2, im.size[1] - bottom_indent * im.size[1] // 100)
    ImageDraw.Draw(im).text(
        xy=xy,
        text=label,
        fill=color,
        font=unicode_font,
        anchor="mm",
    )
    im.show()
    im.save(fp=buffer, format=out_format)

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
buffer.seek(0)
```

> `pip install pillow`

> –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (red, green, blue), –∫–∞–∂–¥–∞—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –æ—Ç 0 –¥–æ 255.
> - **(0, 0, 0)** ‚Äî —á—ë—Ä–Ω—ã–π,
> - **(255, 255, 255)** ‚Äî –±–µ–ª—ã–π,
> - **(255, 0, 0)** ‚Äî –∫—Ä–∞—Å–Ω—ã–π, 
> –∏ —Ç.–¥.

### –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
from aiogram.types import Message, BufferedInputFile

async def handler(message: Message):
    buffer = ...  # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ BytesIO

    await message.answer_photo(
        BufferedInputFile(
            buffer.read(),
            filename="–ö–∞–∫–æ–µ-—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è Telegram",
        ),
    )

    buffer.close()
```


### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ Telegram

```python
import aiofiles
from pathlib import Path

import aiohttp
from aiogram import Bot, F
from aiogram.types import Message, BufferedInputFile


@router.message(F.photo)
async def handler(message: Message, bot: Bot, session: aiohttp.ClientSession):
    downloads_folder_path = "../downloads"  # –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫—É–¥–∞ –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    
    photo = message.photo[-1].file_id  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
    photo_file = await bot.get_file(photo)  # –§–∞–π–ª
    photo_path = photo_file.file_path  # –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ Telegram (—Ç–æ, —Å —á–µ–º Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º")
    
    p = Path(photo_path)
    path = f"{downloads_folder_path}/{p.name}"

    async with session.get(photo_path) as resp:
        if resp.status == 200:
            f = await aiofiles.open(path, mode='wb')
            await f.write(await resp.read())
            await f.close()

)
```

> `F.photo` –≤ `@router.message` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä, —Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏—à—å –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

> `pip install aiohttp`

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ `Dispatcher` –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è `bot` –∏ `session` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```python
import aiohttp

dp = Dispatcher()

async def main() -> None:
    ...
    
    bot = Bot(token="TOKEN")

    ...
    
    dp["bot"] = bot
    dp["session"] = aiohttp.ClientSession(
        base_url=f"https://api.telegram.org/file/bot{"TOKEN"}/",
    )
    
    ...
    
    await dp.start_polling(bot)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```python
import os
from pathlib import Path


directory_path = "../memes"  # –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

for f in os.listdir(directory_path):
    p = Path(f)
    print(p.name, p.stem)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ —à—Ä–∏—Ñ—Ç–æ–≤

```python
from matplotlib import font_manager


for n in font_manager.get_font_names():
    print(n)
```
> `pip install matplotlib`


## –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π —Å–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã –∏ —Ä–æ–ª–∏

–í—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–∏–ª–∏ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–∞–≤–∞ –∫–æ–º–∞–Ω–¥—ã ‚Äî –ø–æ–∫–∞ –Ω–µ —Ä–µ—à–∏–ª). **–ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ** –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ —Ä–æ–ª–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è *Advanced+*:
- 1 —á–µ–ª–æ–≤–µ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –º–µ–º–æ–≤,
- 1 —á–µ–ª–æ–≤–µ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–æ–π —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏,
- 2 —á–µ–ª–æ–≤–µ–∫–∞ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º.
